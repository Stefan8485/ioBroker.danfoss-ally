<h1>ioBroker.danfoss-ally</h1>
<p><strong>Version 0.2.0 (Oktober 2025)</strong></p>
<p>Adapter für die Danfoss Ally™ Cloud API – liest alle Geräte und Sensordaten direkt aus der Cloud aus.</p>

<h2>Funktionen</h2>
<ul>
  <li>Automatische Token-Erneuerung (OAuth2)</li>
  <li>Geräteerkennung (Danfoss Icon2 RT, Controller, Gateway)</li>
  <li>Sensorwerte mit korrekten Einheiten (°C /% etc.)</li>
  <li>Periodische Aktualisierung (Polling-Intervall konfigurierbar)</li>
</ul>

<h2>Konfiguration</h2>
<table border="1" cellspacing="0" cellpadding="4">
<tr><th>Feld</th><th>Beschreibung</th></tr>
<tr><td>API Key</td><td>Danfoss Developer Key</td></tr>
<tr><td>API Secret</td><td>Danfoss Developer Secret</td></tr>
<tr><td>Token URL</td><td>https://api.danfoss.com/oauth2/token</td></tr>
<tr><td>API Base URL</td><td>https://api.danfoss.com/ally</td></tr>
<tr><td>Polling Interval</td><td>Standard = 60 Sekunden</td></tr>
</table>

<h2>Datenpunkte</h2>
<p>Alle Werte liegen unter <code>danfoss-ally.0.devices.&lt;DeviceID&gt;</code></p>
<ul>
  <li><b>temp_current</b> – Aktuelle Temperatur (°C)</li>
  <li><b>temp_set</b> – Solltemperatur (°C)</li>
  <li><b>humidity_value</b> – Luftfeuchte (%)</li>
  <li><b>battery_percentage</b> – Batteriestand (%)</li>
  <li><b>mode</b> – Betriebsmodus (z. B. holiday, auto)</li>
  <li><b>work_state</b> – Heizstatus</li>
  <li><b>fault</b> – Fehlerstatus</li>
</ul>

<h2>Changelog</h2>
<p><b>v0.2.0</b> – Skalierung korrigiert, Einheiten hinzugefügt, Logging verbessert.</p>
<p><b>v0.1.0</b> – Grundversion mit Geräteerkennung.</p>

<p><i>© 2025 Stefan Koch</i></p>